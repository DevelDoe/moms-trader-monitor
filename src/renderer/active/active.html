<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

        <title>Active</title>
        <link rel="stylesheet" href="../styles.css" />
        <link rel="stylesheet" href="../flat.css" />
        <link rel="stylesheet" href="./active.css" />
        <link rel="stylesheet" href="./tailwind.css" />
    </head>
    <body>
        <div id="app-container">
            <div class="tab-wrapper">
                <div class="tab">
                    <button class="tablinks active" onclick="openTab(event, 'summary')">Summary</button>
                    <button class="tablinks" onclick="openTab(event, 'profile')">Profile</button>
                    <button class="tablinks" onclick="openTab(event, 'news')">News</button>
                    <button class="tablinks no-drag" onclick="openTab(event, 'statistics')">Statistics</button>
                    <button class="tablinks no-drag" onclick="openTab(event, 'financials')">Financials</button>
                    <button class="tablinks no-drag" onclick="openTab(event, 'ownership')">Ownership</button>
                    <button class="tablinks no-drag" onclick="openTab(event, 'historical')">Historical</button>
                </div>
            </div>

            <div id="no-active-symbol" class="no-active-symbol draggable">
                <p>No active symbol</p>
            </div>

            <div class="settings-container no-drag">
                <!-- Summary -->
                <div id="summary" class="tabcontent active">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 p-4">
                        <!-- Left Column -->
                        <div class="space-y-4">
                            <!-- Row 1: Single Panel -->
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-0">
                                <!-- First column takes 1/3 -->
                                <div id="symbol" class="bg-zinc-800 p-4 rounded-xl col-span-1">
                                    <input id="symbol-input" class="editable-symbol" type="text" spellcheck="false" />
                                </div>

                                <!-- Second column takes 2/3 -->
                                <div id="symbol" class="bg-zinc-800 p-4 rounded-xl col-span-2">
                                    <span data-id="profile-country"></span>
                                    <span data-id="industry"></span>
                                </div>
                            </div>

                            <div class="bg-zinc-800 p-4 rounded-xl chart" style="position: relative; padding-top: 0 !important; margin-top: 0 !important">
                                <div id="section-float-summary" class="grid grid-cols-1 sm:grid-cols-2 gap-0">
                                    <div class="data-column no-drag">
                                        <p><strong title="Total Shares Outstanding">Outstanding:</strong> <span data-id="statistics-sharesOutstanding"></span></p>
                                        <p><strong title="üîµ Public Float">üîµ Float:</strong> <span data-id="statistics-float"></span></p>
                                        <p><strong title="üü° Total Shorted Shares">üü° Short:</strong> <span data-id="statistics-sharesShort"></span></p>
                                        <p><strong title="üî¥ Held by Insiders">üî¥ Inside:</strong> <span data-id="statistics-insidersHeld"></span></p>
                                        <p><strong title="üü† Held by Institutions">üü† Insti:</strong> <span data-id="statistics-floatHeldByInstitutions"></span></p>
                                        <p><strong title="‚ö´ Remaining Shares (Non-Float)">‚ö´ Remain:</strong> <span data-id="statistics-remainingShares"></span></p>
                                    </div>
                                </div>

                                <div class="chart-container">
                                    <canvas id="ownershipChart-summary" class="no-drag"></canvas>
                                </div>
                                <div id="data-warning-summary" class="bg-zinc-800 p-4 rounded-xl" style="text-align: center; color: #aa9c4c; display: none">
                                    ‚ö†Ô∏è FFog of uncertainty lingers ‚Äî The float data is unclear, and true ownership remains hidden.
                                </div>
                            </div>
                        </div>

                        <!-- Right Column -->
                        <div class="space-y-4">
                            <div class="bg-zinc-800 p-4 rounded-xl">
                                <div class="scroll-container text-tertiary no-drag">
                                    <div class="scroll-content no-drag" data-id="profile-longBusinessSummary"></div>
                                    <!-- <div class="scroll-content no-drag" >China SXT Pharmaceuticals, Inc., a pharmaceutical company, engages in the research, development, manufacture, marketing, and sale of traditional Chinese medicine pieces (TCMP) in China. The company offers advanced, fine, and regular TCMP products, and raw medicinal material, such as SanQiFen, HongQi, SuMu, JiangXiang, CuYanHuSuo, XiaTianWu, LuXueJing, XueJie, ChaoSuanZaoRen, HongQuMi, ChuanBeiMu, HuangShuKuiHua, WuWeiZi, DingXiang, RenShen, QingGuo, JueMingZi, ShaRen, and ChenXiang. It provides its products under the Suxuantang, Hui Chun Tang, and Tong Ren Tang brands. The company had an end-customer base of pharmaceutical companies, chain pharmacies, and hospitals, as well as pharmaceutical distributors. China SXT Pharmaceuticals, Inc. was founded in 2005 and is headquartered in Taizhou, China. -->
                                    <!-- </div> -->
                                </div>
                            </div>

                            <div class="bg-zinc-800 p-4 rounded-xl">
                                <h2>news</h2>
                                <div id="news-container" class="news-list no-drag"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- News -->
                <div id="news" class="tabcontent">
                    <h4>Latest News</h4>
                    <div id="news-container" class="news-list no-drag">
                        <!-- Dynamically filled -->
                    </div>
                </div>

                <!-- Profile -->
                <div id="profile" class="tabcontent">
                    <p><strong>Symbol:</strong> <span data-id="symbol"></span></p>
                    <p><strong>Company Name:</strong> <span data-id="profile-companyName"></span></p>
                    <p><strong>Website:</strong> <span data-id="profile-website"></span></p>
                    <p><strong>Sector:</strong> <span data-id="profile-sector"></span></p>
                    <p><strong>Industry:</strong> <span data-id="profile-industry"></span></p>
                    <p><strong>Exchange:</strong> <span data-id="profile-exchange"></span></p>
                    <div data-id="profile-longBusinessSummary" class="about no-drag"></div>
                </div>

                <!-- Statistics -->
                <div id="statistics" class="tabcontent">
                    <p><strong>Market Cap:</strong> <span data-id="statistics-marketCap"></span></p>
                    <p>
                        <strong title="Beta (Œ≤) is a measure of volatility that indicates how much a stock's price moves relative to the overall market">Beta:</strong>
                        <span data-id="statistics-beta"></span>
                    </p>

                    <div id="data-warning-stats" style="color: #b6a041; display: none; margin-bottom: 10px">
                        üßô‚Äç‚ôÇÔ∏è Fog of uncertainty lingers ‚Äî The float data is unclear, and true ownership remains hidden.
                    </div>
                    <section id="section-float-stats" class="two-column-layout">
                        <div class="data-column no-drag">
                            <p><strong title="Total Shares Outstanding">Shares Outstanding:</strong> <span data-id="statistics-sharesOutstanding"></span></p>
                            <p><strong title="üîµ Public Float">üîµ Float:</strong> <span data-id="statistics-float"></span></p>
                            <p><strong title="üü° Total Shorted Shares">üü° Shorted:</strong><span data-id="statistics-sharesShort"></span></p>
                            <p><strong title="üî¥Held by Insiders">üî¥ Insiders:</strong> <span data-id="statistics-insidersHeld"></span></p>
                            <p><strong title="üü† Held by Institutions">üü† Institutions:</strong> <span data-id="statistics-floatHeldByInstitutions"></span></p>
                            <p><strong title="‚ö´ Remaining Shares (Non-Float)">‚ö´ Remaining:</strong> <span data-id="statistics-remainingShares"></span></p>
                        </div>
                        <div class="chart-column">
                            <div class="chart-container">
                                <canvas id="ownershipChart-stats" class="no-drag"></canvas>
                            </div>
                        </div>
                    </section>
                </div>

                <!-- Financials -->
                <div id="financials" class="tabcontent">
                    <p>
                        <strong title="Net income represents the profit a company makes after subtracting all expenses, taxes, interest, and other costs from its total revenue.">Net Income:</strong>
                        <span data-id="financials-netIncome"></span>
                    </p>
                </div>

                <!-- Ownership -->
                <div id="ownership" class="tabcontent">
                    <p><strong> Shares Held by All Insider:</strong> <span data-id="ownership-insidersPercentHeld"></span></p>
                    <p><strong> Shares Held by Institutions:</strong> <span data-id="ownership-institutionsFloatPercentHeld"></span></p>
                    <p><strong> Float Held by Institutions:</strong> <span data-id="ownership-institutionsPercentHeld"></span></p>
                </div>

                <!-- Historical -->
                <div id="historical" class="tabcontent">
                    <h4>Latest Price</h4>
                    <p><strong>Date:</strong> <span data-id="historical-price-date"></span></p>
                    <p><strong>Value:</strong> <span data-id="historical-price-value"></span></p>

                    <h4>Latest Volume</h4>
                    <p><strong>Date:</strong> <span data-id="historical-volume-date"></span></p>
                    <p><strong>Value:</strong> <span data-id="historical-volume-value"></span></p>
                </div>

                <!-- example -->
                <div id="example" class="tabcontent">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 p-4">
                        <!-- Left Column -->
                        <div class="space-y-4">
                            <!-- Row 1: Single Panel -->
                            <div class="bg-zinc-800 p-4 rounded-xl">Left - Row 1</div>

                            <!-- Row 2: Two Panels -->
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div class="bg-zinc-800 p-4 rounded-xl">Left - Row 2A</div>
                                <div class="bg-zinc-800 p-4 rounded-xl">Left - Row 2B</div>
                            </div>

                            <!-- Row 3: Three Panels -->
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                <div class="bg-zinc-800 p-4 rounded-xl">Left - Row 3A</div>
                                <div class="bg-zinc-800 p-4 rounded-xl">Left - Row 3B</div>
                                <div class="bg-zinc-800 p-4 rounded-xl">Left - Row 3C</div>
                            </div>
                        </div>

                        <!-- Right Column -->
                        <div class="space-y-4">
                            <!-- Row 1: Single Panel -->
                            <div class="bg-zinc-800 p-4 rounded-xl">Right - Row 1</div>

                            <!-- Row 2: Two Panels -->
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div class="bg-zinc-800 p-4 rounded-xl">Right - Row 2A</div>
                                <div class="bg-zinc-800 p-4 rounded-xl">Right - Row 2B</div>
                            </div>

                            <!-- Row 3: Three Panels -->
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                <div class="bg-zinc-800 p-4 rounded-xl">Right - Row 3A</div>
                                <div class="bg-zinc-800 p-4 rounded-xl">Right - Row 3B</div>
                                <div class="bg-zinc-800 p-4 rounded-xl">Right - Row 3C</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="./active.js"></script>
        <script>
            const container = document.querySelector(".scroll-content.no-drag");

            if (container) {
                const downSpeed = 1;
                const upSpeed = 10;
                const delay = 60;
                const pauseTop = 8000;
                const pauseBottom = 3000;
                let direction = 0; // 0 = idle, 1 = down, -1 = up

                const scrollLoop = () => {
                    if (direction === 1) {
                        container.scrollTop += downSpeed;

                        if (container.scrollTop + container.clientHeight >= container.scrollHeight) {
                            direction = 0;
                            setTimeout(() => {
                                direction = -1; // go back up
                                scrollLoop();
                            }, pauseBottom);
                            return;
                        }
                    } else if (direction === -1) {
                        container.scrollTop -= upSpeed;

                        if (container.scrollTop <= 0) {
                            container.scrollTop = 0; // make sure it's exactly top
                            direction = 0;
                            setTimeout(() => {
                                direction = 1;
                                scrollLoop();
                            }, pauseTop);
                            return;
                        }
                    }

                    setTimeout(scrollLoop, delay);
                };

                // Start paused at top
                setTimeout(() => {
                    direction = 1;
                    scrollLoop();
                }, pauseTop);
            }
        </script>
    </body>
</html>
